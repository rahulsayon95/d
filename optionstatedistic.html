<?php



   include('connect.php');
   
   $res = mysqli_query($con,"select state from states");
    
          $row = mysqli_fetch_assoc($res); 
		  
       echo  mysqli_num_rows($row);




?>
 <html>
  
    <head>
         <title>Home</title>
	</head>
	<body>
	
	<h1>  Select State </h1>
	    <form>
	
	       
	  <select id="state" onchange="getDistic(this.value)" >
   
      <option value="">  ----select---- </option>   
	  
	  <?php
	   
        while($row = mysqli_fetch_assoc($res))  
		
		{

		?>	   
	   
               
	   <option value="<?php echo   $row['state'];  ?>"> <?php  echo  $row['state'];   ?> </option>    
	   
	   

          
		<?php 

       }


       ?>	   
	   
    
	</select>
   
    select Distric  

     <select id="dist">
	 
	 <option value="">  ----Distric----  </option> 
	 	 
	 </select>
	 
	 
	 
	 <script>
	 
	   
	   function display(s)
	   {
	       
		    var obj;
	   	  if(window.XMLHttpRequest)
             {

                obj = new XMLHttpRequest();

	          }
			  else
			  {
			  
	            obj = new ActiveXObject('Microsoft.XMLHTTP');
	 
	     
	          }
			  
			  
	          obj.onreadystatechange = function ()
            {			  
			  
			  
			   if(obj.readyState == 4 && obj.status == 200)
               {			   
			  
			      document.getElementById('dist').innerHTML=obj.responseText;
         				  
	              
   
   
                }
    
            }
			obj.open("GET","http://localhost:8080/ajax/dist.php?state = + s , true");
             obj.send();
   
        }
      </select>
        </form>
    </body>
 </html>